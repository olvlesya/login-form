[{"D:\\Work\\login-form\\src\\index.js":"1","D:\\Work\\login-form\\src\\reportWebVitals.js":"2","D:\\Work\\login-form\\src\\App.js":"3","D:\\Work\\login-form\\src\\pages\\SignUp\\index.js":"4","D:\\Work\\login-form\\src\\pages\\SignUp\\SignUp.jsx":"5","D:\\Work\\login-form\\src\\pages\\SignUp\\formConfig.js":"6","D:\\Work\\login-form\\src\\pages\\SignUp\\inputAddons.jsx":"7","D:\\Work\\login-form\\src\\pages\\SignUp\\utilities.js":"8","D:\\Work\\login-form\\src\\pages\\SignIn\\index.js":"9","D:\\Work\\login-form\\src\\pages\\SignIn\\SignIn.jsx":"10","D:\\Work\\login-form\\src\\pages\\Details\\Details.jsx":"11","D:\\Work\\login-form\\src\\pages\\Details\\index.js":"12","D:\\Work\\login-form\\src\\common\\PrivateRoute.jsx":"13","D:\\Work\\login-form\\src\\common\\NotAuthRoute.jsx":"14","D:\\Work\\login-form\\src\\store\\auth\\reducer.js":"15","D:\\Work\\login-form\\src\\store\\auth\\actions.js":"16","D:\\Work\\login-form\\src\\pages\\Details\\useAuth.js":"17"},{"size":1572,"mtime":1611658757009,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"19"},{"size":831,"mtime":1611519421652,"results":"21","hashOfConfig":"19"},{"size":36,"mtime":1611421928103,"results":"22","hashOfConfig":"19"},{"size":4685,"mtime":1611664487635,"results":"23","hashOfConfig":"19"},{"size":276,"mtime":1611430257141,"results":"24","hashOfConfig":"19"},{"size":261,"mtime":1611430523943,"results":"25","hashOfConfig":"19"},{"size":680,"mtime":1611431292312,"results":"26","hashOfConfig":"19"},{"size":36,"mtime":1611431671211,"results":"27","hashOfConfig":"19"},{"size":2316,"mtime":1611609365529,"results":"28","hashOfConfig":"19"},{"size":3020,"mtime":1611663908474,"results":"29","hashOfConfig":"19"},{"size":38,"mtime":1611503673434,"results":"30","hashOfConfig":"19"},{"size":324,"mtime":1611591043884,"results":"31","hashOfConfig":"19"},{"size":319,"mtime":1611591050335,"results":"32","hashOfConfig":"19"},{"size":328,"mtime":1611658307631,"results":"33","hashOfConfig":"19"},{"size":240,"mtime":1611658267653,"results":"34","hashOfConfig":"19"},{"size":1429,"mtime":1611661115162,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"daxrst",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"38"},"D:\\Work\\login-form\\src\\index.js",[],["72","73"],"D:\\Work\\login-form\\src\\reportWebVitals.js",[],"D:\\Work\\login-form\\src\\App.js",[],"D:\\Work\\login-form\\src\\pages\\SignUp\\index.js",[],"D:\\Work\\login-form\\src\\pages\\SignUp\\SignUp.jsx",[],"D:\\Work\\login-form\\src\\pages\\SignUp\\formConfig.js",[],"D:\\Work\\login-form\\src\\pages\\SignUp\\inputAddons.jsx",[],"D:\\Work\\login-form\\src\\pages\\SignUp\\utilities.js",[],"D:\\Work\\login-form\\src\\pages\\SignIn\\index.js",[],"D:\\Work\\login-form\\src\\pages\\SignIn\\SignIn.jsx",[],"D:\\Work\\login-form\\src\\pages\\Details\\Details.jsx",[],"D:\\Work\\login-form\\src\\pages\\Details\\index.js",[],"D:\\Work\\login-form\\src\\common\\PrivateRoute.jsx",[],"D:\\Work\\login-form\\src\\common\\NotAuthRoute.jsx",[],"D:\\Work\\login-form\\src\\store\\auth\\reducer.js",[],"D:\\Work\\login-form\\src\\store\\auth\\actions.js",[],"D:\\Work\\login-form\\src\\pages\\Details\\useAuth.js",["74"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { notification } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logOut, refreshToken } from \"../../store/auth/actions\";\r\n\r\nexport const useAuth = () => {\r\n  const [user, setUser] = useState(null);\r\n  const auth = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (auth?.access) {\r\n      axios\r\n        .get(`http://erp.apptrix.ru/api/clients/${auth.client_id}/`)\r\n        .then((response) => {\r\n          setUser(response.data);\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.status === 401) {\r\n            axios\r\n              .post(\"http://erp.apptrix.ru/api/clients/token/refresh/\", {\r\n                refresh: auth.refresh,\r\n              })\r\n              .then((response) => {\r\n                dispatch(refreshToken(response.data.access));\r\n              })\r\n              .catch(() => {\r\n                notification.error({\r\n                  message: \"Произошла ошибка!\",\r\n                  description: \"Пожалуйста, авторизируйтесь ещё раз\",\r\n                });\r\n                dispatch(logOut());\r\n              });\r\n          } else {\r\n            dispatch(logOut());\r\n          }\r\n        });\r\n    }\r\n  }, [auth?.access, auth?.client_id, auth?.refresh]);\r\n\r\n  return user;\r\n};\r\n",{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":40,"column":6,"nodeType":"81","endLine":40,"endColumn":52,"suggestions":"82"},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["85"],"no-global-assign","no-unsafe-negation",{"desc":"86","fix":"87"},"Update the dependencies array to be: [auth?.access, auth.client_id, auth.refresh, dispatch]",{"range":"88","text":"89"},[1311,1357],"[auth?.access, auth.client_id, auth.refresh, dispatch]"]